<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Waffen-Info Register</title>
    <link rel="icon" href="../Bilder/Brand.png" type="../Bilder/Brand.png">
    <link rel="stylesheet" href="../CSS/nav.css">
    <link rel="stylesheet" href="../CSS/BUS-Home.css">
    <link rel="stylesheet" href="../CSS/box.css">
</head>
<body>


  <form action="/" th:object="${user}" method="POST" enctype="utf8">
    
        <div class="imgcontainer" style="text-align: center;">
          <h1 th:text="#{label.form.title}" style="color: #FCCA27;"></h1>
            <img src="../Bilder/img_avatar2.png" alt="Avatar" class="avatar" id="loginAvatar">
          </div>
          <center>
          <div>
        
          <div class="container" id="loginForm">
         
          <label for="firstname" th:text="#{label.user.firstName}"><b style="color: #FCCA27;">Vorname: </b></label>
          <input th:field="*{firstName}" type="text" placeholder="Enter your first name" class="user" id="firstname" required>
    
          <br>
          <br>

          <label th:text="#{label.user.lastName}" for="lastname"><b style="color: #FCCA27;">Nachname: </b></label>
          <input th:field="*{lastName}" type="text" placeholder="Enter your last name" class="user" id="lastname" required>
          <br>
          <br>

          <label th:text="#{label.user.username}" for="username"><b style="color: #FCCA27;">Benutzername: </b></label>
          <input th:field="*{username}" type="text" placeholder="Enter your last username" class="user" id="username" required>
          <br>
          <br>
      
          <label th:text="#{label.user.gender}" for="gender"><b style="color: #FCCA27;">Gechlecht: </b></label>
          <input th:field="*{gender}" type="text" placeholder="" class="user" id="gender" required>
          <br>
          <br>

          <label th:text="#{label.user.email}"for="email"><b style="color: #FCCA27;">E-Mail: </b></label>
          <input th:field="*{email}" type="email" placeholder="Enter your email" class="user" id="email" required>
          <br>
          <br>
          <label th:text="#{label.user.password}" for="password"><b style="color: #FCCA27;">Password: </b></label>
          <input th:field="*{password}" type="password" placeholder="Enter your password" class="user" id="password" required>
          <br>
          <br>

          <label th:text="#{label.user.address}" for="adress"><b style="color: #FCCA27;">Adresse: </b></label>
          <input input type="text" field="*{adress}" name="adress" placeholder="Enter your address" class="user" id="adress" required>
          <br>
          <br>
          <label th:text="#{label.user.zip_code}" for="PLZ"><b style="color: #FCCA27;">PLZ: </b></label>
          <input th:field="*{zip_code}" type="text" placeholder="Enter your zip code" class="user" id="PLZ" required>
          <br>
          <br>

          <label th:text="#{label.user.location}" for="place"><b style="color: #FCCA27;">Ort: </b></label>
          <input th:field="*{location}" type="text" placeholder="Enter your location" class="user" id="place" required>
          <br>
          <br>
          <label th:text="#{label.user.country}" for="country"><b style="color: #FCCA27;">Land: </b></label>
          <input th:field="*{country}" type="text" placeholder="Enter your country" class="user" id="country" required>
          <br>
          <br>
          <label th:checkbox="#{label.user.accepted_AGBS}" for="agb"><b style="color: #FCCA27;">Unseren AGBs zustimmen: </b></label>
          <input th:field="*{accepted_AGBS}"type="checkbox" class="user" id="agb" required>
          <br>
          <br>
          <button type="submit" th:text="#{label.form.submit}" class="loginButton" id="login">Absenden</button>
      
        </div>
          </div>
      </center>
      </div>
    </form>
    <center>
    <button><a th:href="@{/login.html}" th:text="#{label.form.loginLink}">login</a></button>
  </center>
        <br>
      
        <div class="container" style="text-align: center;">
          <button type="button" class="loginButton" onclick="createCookie()"><a href="BUS-Home.html" class="loginButton">Cancel</a></button>
        </div>
    

      <script>

  function createCookie(name,pwds){
  let username = document.getElementById("user");
  let pwd = document.getElementById("pd");


  today = new Date();
  var expire = new Date();
  expire.setTime(today.getTime() + 3600000*24*15);
 

  document.cookie = "name="+username.value+";path=/" + ";expires="+expire.toUTCString();
  document.cookie = "password="+encodeURI(pwd.value)+";path=/" + ";expires="+expire.toUTCString();
  //can only write one entity at a time (name, pass)
}  


//event handler for page load - runs on every refresh
window.open.href="profileHome" = function(){

  //how to read back the stored name and password?
  //https://stackoverflow.com/q/10730362/6160662
  //https://stackoverflow.com/q/5639346/6160662


  //for now
  var uname = 'Route66';
  var pass = '123456';

  document.getElementById('user').value = uname;
  document.getElementById('pd').value = pass;

}

      </script>
</body>
</html>